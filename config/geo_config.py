from shapely.geometry import Point, Polygon
import geopandas as gpd
import numpy as np
from shapely.geometry.linestring import LineString


CITY_SETTINGS = {
    'NSK': {
        'timezone': 'Asia/Novosibirsk',
        'default_radius': 100,  # метров
        'ob_water': Polygon([(55.1878631, 82.8723283), (55.1789797, 82.8599687), (55.17099019999999, 82.8446908),
                             (55.1642739, 82.8292413), (55.157066, 82.8185983), (55.1514263, 82.8148217),
                             (55.1031016, 82.7771421), (55.0939181, 82.7840085), (55.0766259, 82.7900167),
                             (55.0681244, 82.7965398), (55.06065340000001, 82.7988572), (55.0516568, 82.8137918),
                             (55.04000250000001, 82.8262372), (55.0342479, 82.8476949), (55.0285416, 82.8677793),
                             (55.0248026, 82.8767915), (55.0187013, 82.8935285), (55.012107, 82.9061456),
                             (55.0039856, 82.9224534),
                             (55.0014258, 82.9269166), (54.99635489999999, 82.930264), (54.9882796, 82.9354997),
                             (54.9865067, 82.9402204),
                             (54.9809907, 82.9482885), (54.9781338, 82.9488893), (54.9717791, 82.9602189),
                             (54.9568983, 82.9833074),
                             (54.95123030000001, 82.9923196), (54.9494066, 83.0062242), (54.9456109, 83.0278535),
                             (54.9413218, 83.0348916),
                             (54.9284025, 83.039784), (54.9005773, 83.024077), (54.87391819999999, 83.0086274),
                             (54.8603844, 82.9963537),
                             (54.8518371, 82.9863973), (54.8455118, 82.9991861), (54.8565309, 83.0152364),
                             (54.8616195, 83.0211587),
                             (54.8665098, 83.0306859), (54.8817697, 83.0366082), (54.89657960000001, 83.0371232),
                             (54.9108907, 83.045363),
                             (54.92716950000001, 83.0559202), (54.94191339999999, 83.0573793), (54.9265776, 83.0640741),
                             (54.92786, 83.0658765),
                             (54.9332354, 83.0653615), (54.9423571, 83.0591817), (54.94654749999999, 83.0545469),
                             (54.9515754, 83.0473371),
                             (54.9549269, 83.0372091), (54.95507480000001, 83.0307718), (54.9554198, 83.0232187),
                             (54.95339909999999, 83.0190988),
                             (54.9547298, 83.0102582), (54.96295969999999, 82.9908605), (54.9712865, 82.979445),
                             (54.9841428, 82.9813333),
                             (54.9888212, 82.9746385), (54.9897569, 82.9673429), (54.9966503, 82.9532667),
                             (55.00270570000001, 82.9406495),
                             (55.00752970000001, 82.9334398), (55.0118609, 82.9221959), (55.01919340000001, 82.904429),
                             (55.0382319, 82.8725858),
                             (55.0368548, 82.8708692), (55.0402976, 82.860827), (55.0445269, 82.859282),
                             (55.0449204, 82.8549047), (55.0448712, 82.848639),
                             (55.0462481, 82.84409), (55.0451171, 82.8373952), (55.05839210000001, 82.8193708),
                             (55.07618359999999, 82.8034921),
                             (55.1086009, 82.8073545), (55.1203824, 82.8185125), (55.135497, 82.8291555),
                             (55.155314, 82.8464074),
                             (55.1616886, 82.8533597), (55.1687976, 82.8598829), (55.1786991, 82.878594),
                             (55.186687, 82.883143),
                             (55.1878631, 82.8723283)]),  # Река Обь
        'industrial_zones': [Polygon([(54.99624282107081, 82.79768433168906), (54.99688563768317, 82.81382372630065),
                                      (54.99738411864737, 82.82274529483377), (55.0075426481771, 82.82109085896995),
                                      (55.00872233488519, 82.82010512056227), (55.01526905735727, 82.80432096388405),
                                      (55.01409888729728, 82.80184351277539), (55.01354948855342, 82.8015330495481),
                                      (55.01183199178622, 82.80169861723326), (55.01170198098977, 82.80051381777855),
                                      (55.01010845804862, 82.8005556000775), (55.00984147386558, 82.79777925984268),
                                      (55.00796136726886, 82.79779506311318), (55.0069810229575, 82.78519680830877),
                                      (54.99875087849465, 82.78013055936408), (54.99624282107081, 82.79768433168906)]),
                             Polygon([(55.00936972815969, 82.82014667474637), (55.00799125385861, 82.82167015498254),
                                      (55.00058643184454, 82.82280629546796), (54.99752549663942, 82.82434186916943),
                                      (54.9974562098956, 82.82796993720652), (54.99648622175901, 82.83141717649201),
                                      (54.99784169790806, 82.86710207158367), (54.9983069515686, 82.86754430773208),
                                      (54.99858538705323, 82.87053959371511), (55.00612461231663, 82.86985738674241),
                                      (55.00664693622965, 82.86774092766453), (55.00795036414674, 82.86535768235795),
                                      (55.00886069791239, 82.85941506335003), (55.01049577214803, 82.85615944976793),
                                      (55.01184915642792, 82.8517260182621), (55.01149473729234, 82.8459041934247),
                                      (55.01027262570241, 82.84578706079066), (55.01110915157501, 82.84042565540632),
                                      (55.01266851274574, 82.840184450659), (55.01241854835978, 82.83212148878994),
                                      (55.01575810143233, 82.82336823239199), (55.01572773376299, 82.82169138972795),
                                      (55.01710196632492, 82.81755415594964), (55.02058717346269, 82.81364820237897),
                                      (55.01875906392817, 82.81101539840826), (55.01524924628475, 82.8061316189879),
                                      (55.00936972815969, 82.82014667474637)]),
                             Polygon([(55.03228735297846, 82.82479576015928), (55.02184562812752, 82.81543059448504),
                                      (55.01630288983489, 82.82858379919927), (55.01361910472398, 82.84080012080544),
                                      (55.01225006518025, 82.84499684449241), (55.01243109388074, 82.85192024778704),
                                      (55.01128858948934, 82.85535832140151), (55.01189069475164, 82.85745517842574),
                                      (55.00844028789798, 82.86768234006344), (55.01288156739252, 82.8679553276794),
                                      (55.01442618608733, 82.85950285059555), (55.01871399687799, 82.85885836820779),
                                      (55.03228735297846, 82.82479576015928)]),
                             Polygon([(55.04236692201778, 82.87186347367981), (55.04292342834281, 82.87301214610048),
                                      (55.04254566002162, 82.87595519052904), (55.04290371533907, 82.87705276458433),
                                      (55.04362222994004, 82.8792824198618), (55.043313755379, 82.88054131671934),
                                      (55.04379742048402, 82.8815164281777), (55.04451538570036, 82.88072765293643),
                                      (55.04572773235734, 82.8794233565508), (55.04713350853343, 82.87994177636975),
                                      (55.04866412246108, 82.87789988810269), (55.05054813745625, 82.88222799820518),
                                      (55.05187094440599, 82.88055926822527), (55.05154098773404, 82.87956845013942),
                                      (55.05289187656338, 82.87794451994591), (55.05155006360772, 82.87328967515222),
                                      (55.04970458836595, 82.87527538784946), (55.04760983139512, 82.87135454672972),
                                      (55.04727626625902, 82.86794617117467), (55.0451211294336, 82.86620192948111),
                                      (55.04472400037203, 82.8673283155791), (55.04374942476839, 82.86661515331315),
                                      (55.04236692201778, 82.87186347367981)]),
                             Polygon([(55.06457322794357, 82.96952545744055), (55.05906561311404, 82.97731457222008),
                                      (55.06699301043837, 82.9919538112798), (55.06535678795071, 82.99490288841952),
                                      (55.06943742714115, 83.00283110986057), (55.07190238623394, 82.9995488087935),
                                      (55.06952623475939, 82.99376891233686), (55.0742652835789, 82.98939125270846),
                                      (55.06457322794357, 82.96952545744055)]),
                             Polygon([(55.10050043845514, 82.98110867878691), (55.10455930125698, 82.98322436811357),
                                      (55.1091566013765, 82.98581386774569), (55.10997556376725, 82.98163895816135),
                                      (55.10971776744699, 82.98140444661837), (55.10993437034598, 82.97997072881842),
                                      (55.10844073722353, 82.97878816482422), (55.10855733937326, 82.97801561030599),
                                      (55.10715331372718, 82.97714300582318), (55.10690753790217, 82.97702880960139),
                                      (55.10602817730352, 82.97497248103588), (55.10416453047184, 82.97391319347726),
                                      (55.10383243827763, 82.97535173063427), (55.1032160012825, 82.97527967871974),
                                      (55.10262734843583, 82.97780542329265), (55.10117208127283, 82.97718734803428),
                                      (55.10085927377474, 82.97706257160026), (55.09891242138782, 82.97586490582718),
                                      (55.09848782200505, 82.97761261003716), (55.09445495324847, 82.9758534112552),
                                      (55.09229638216851, 82.96968643926306), (55.09436849827011, 82.96449983253983),
                                      (55.09249889489202, 82.95958916727892), (55.088237145569, 82.96459418869681),
                                      (55.08868579957966, 82.96580167263033), (55.08757322640628, 82.96646120269696),
                                      (55.08413577557057, 82.96738701512668), (55.08456178578838, 82.96813100137105),
                                      (55.08638771243678, 82.97185529659184), (55.0879796152113, 82.97471098180195),
                                      (55.10050043845514, 82.98110867878691)]),
                             Polygon([(55.08388093062528, 82.96797369195914), (55.07735338730868, 82.9833085910091),
                                      (55.0761142474129, 82.98478700716927), (55.07808201484057, 82.98633506845665),
                                      (55.08666633304816, 82.99094681818275), (55.09642510489784, 82.99585014126237),
                                      (55.10644247945205, 83.00084823028969), (55.10651381734876, 83.00168073478274),
                                      (55.11759689231353, 83.0074359105279), (55.1224800349196, 83.01287057064815),
                                      (55.13476496934846, 83.0084357462478), (55.13423901298246, 83.00352528720627),
                                      (55.12287939117206, 83.00748412745325), (55.12142276808794, 83.00625242421461),
                                      (55.12147488032543, 83.00623053992722), (55.12494208897512, 83.00461698476816),
                                      (55.12486296498186, 83.0029882710686), (55.11987009083096, 83.00288404774986),
                                      (55.12174372475854, 82.99888471409723), (55.12466703997628, 82.99220217182237),
                                      (55.12320880594523, 82.98869208684214), (55.11948944797743, 82.99131498765985),
                                      (55.11759320291485, 82.9908138491599), (55.11612856717912, 82.98873341814186),
                                      (55.11529869845532, 82.98289222251213), (55.11272960434489, 82.98064902473251),
                                      (55.11101914268946, 82.98119429372099), (55.11002342294562, 82.98326418365),
                                      (55.10953051138846, 82.98504655930915), (55.10932713458119, 82.98610239465489),
                                      (55.10922843842424, 82.98649554121674), (55.10700756301378, 82.98524516099417),
                                      (55.10529745080335, 82.9840942906135), (55.10242213412764, 82.98279546513132),
                                      (55.09981174475573, 82.9813636298439), (55.09347809069784, 82.97818274688747),
                                      (55.08762262311114, 82.97513685417084), (55.08388093062528, 82.96797369195914)]),
                             Polygon([(55.13968990930893, 82.89890566327226), (55.13941539896857, 82.8951195667419),
                                      (55.13160474340786, 82.8878557507849), (55.13065304360466, 82.89200758011091),
                                      (55.12995026395327, 82.89661092416988), (55.12902233133148, 82.90016541236945),
                                      (55.13638287465233, 82.90611212773331), (55.13722288675087, 82.90492908092642),
                                      (55.13419142885756, 82.89854895442264), (55.13265067207642, 82.89726671893247),
                                      (55.13282371890379, 82.89519129116765), (55.13318933652642, 82.89388892925925),
                                      (55.13440905342487, 82.89397930345501), (55.1355243617027, 82.89555795108792),
                                      (55.13534707454205, 82.89622225824556), (55.13804636820672, 82.89989409149858),
                                      (55.13968990930893, 82.89890566327226)]),
                             Polygon([(55.13278256353722, 82.91496703250807), (55.13260553901223, 82.91415316198766),
                                      (55.13016248918651, 82.91349273919477), (55.12814055948134, 82.91371372970403),
                                      (55.12812957613802, 82.912315860889), (55.12563643100504, 82.91137594723641),
                                      (55.12493426267285, 82.90644464185618), (55.12532763939892, 82.90390195704376),
                                      (55.12493836699306, 82.90360290880747), (55.12467327296839, 82.90514630418471),
                                      (55.12450981701544, 82.90599258939494), (55.12398839318098, 82.90725690978536),
                                      (55.1233507180936, 82.90840050524487), (55.1237452586024, 82.90922883796567),
                                      (55.12369327038515, 82.91033734513005), (55.12332858857003, 82.91325993487013),
                                      (55.12144720514051, 82.91698886921922), (55.12161419830161, 82.91792621138227),
                                      (55.1282184525061, 82.91653062741106), (55.12852434209584, 82.91881127960826),
                                      (55.12631693374028, 82.91960499750029), (55.12631645847054, 82.92104029965286),
                                      (55.12746257162149, 82.92357252960247), (55.12931559609116, 82.9222408549369),
                                      (55.13046215616318, 82.92054192757405), (55.13188907338706, 82.91828097783046),
                                      (55.13291662536245, 82.91684126548107), (55.13278256353722, 82.91496703250807)]),

                             ],

        'density_factor': 1.2
    },
    'YR': {
        'timezone': 'Europe/Moscow',
        'default_radius': 120,
        'industrial_zones': [...],
        'density_factor': 1.0
    },
    'YSP': {...}
}


def is_point_in_polygon(point: tuple, polygon: Polygon) -> bool:
    return polygon.contains(Point(point))

